# Copyright 2011, Dell, Inc.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
# http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# Author: RobHirschfeld
#

barclamp:
  name: clouderamanager
  display: Cloudera Manager for Hadoop
  version: 0
  requires:
    - '@crowbar'
  member:
    - apachehadoop
  supercedes:
    - hadoop
    - zookeeper
    - hive
    - sqoop

crowbar:
  layout: 1
  order: 400
  run_order: 400
  chef_order: 400

nav:
  help:
    clouderamanager_ug: '"/dell_cloudera_apache_hadoop_users_guide.pdf", { :link => { :target => "_blank" } }'
    clouderamanager_dg: '"/dell_cloudera_apache_hadoop_deployment_guide.pdf", { :link => { :target => "_blank" } }'

rpms:
  redhat-6.4:
    repos:
      - bare cloudera-cdh4 10 http://archive.cloudera.com/cdh4/redhat/6/x86_64/cdh/4
      - bare cloudera-impala 10 http://archive.cloudera.com/impala/redhat/6/x86_64/impala/1
      - bare cloudera-search 10 http://archive.cloudera.com/search/redhat/6/x86_64/search/1
      - bare cloudera-manager 10 http://archive.cloudera.com/cm4/redhat/6/x86_64/cm/4
  centos-6.4:
    repos:
      - bare cloudera-cdh4 10 http://archive.cloudera.com/cdh4/redhat/6/x86_64/cdh/4
      - bare cloudera-impala 10 http://archive.cloudera.com/impala/redhat/6/x86_64/impala/1
      - bare cloudera-search 10 http://archive.cloudera.com/search/redhat/6/x86_64/search/1
      - bare cloudera-manager 10 http://archive.cloudera.com/cm4/redhat/6/x86_64/cm/4

  pkgs:
    # SQL
    - mysql-server
    - postgresql
    - postgresql-server
    # CDH noarch
    - bigtop-tomcat
    - bigtop-utils
    - flume-ng
    - flume-ng-agent
    - flume-ng-doc
    - hcatalog
    - hcatalog-server
    - hive
    - hive-hbase
    - hive-jdbc
    - hive-metastore
    - hive-server
    - hive-server2
    - mahout
    - mahout-doc
    - oozie
    - oozie-client
    - pig
    - pig-udf-datafu
    - sentry
    - sqoop
    - sqoop-metastore
    - sqoop2
    - sqoop2-client
    - sqoop2-server
    - webhcat
    - webhcat-server
    - whirr
    - zookeeper
    - zookeeper-server
    # CDH X86_64
    - bigtop-jsvc
    - bigtop-jsvc-debuginfo
    - hadoop-0.20-conf-pseudo
    - hadoop-0.20-mapreduce
    - hadoop-0.20-mapreduce-jobtracker
    - hadoop-0.20-mapreduce-jobtrackerha
    - hadoop-0.20-mapreduce-tasktracker
    - hadoop-0.20-mapreduce-zkfc
    - hadoop
    - hadoop-client
    - hadoop-conf-pseudo
    - hadoop-debuginfo
    - hadoop-doc
    - hadoop-hdfs
    - hadoop-hdfs-datanode
    - hadoop-hdfs-fuse
    - hadoop-hdfs-journalnode
    - hadoop-hdfs-namenode
    - hadoop-hdfs-secondarynamenode  
    - hadoop-hdfs-zkfc
    - hadoop-httpfs
    - hadoop-libhdfs
    - hadoop-mapreduce
    - hadoop-mapreduce-historyserver
    - hadoop-yarn
    - hadoop-yarn-nodemanager
    - hadoop-yarn-proxyserver
    - hadoop-yarn-resourcemanager  
    - hbase
    - hbase-doc
    - hbase-master
    - hbase-regionserver
    - hbase-rest
    - hbase-thrift
    - hue
    - hue-about
    - hue-beeswax
    - hue-common
    - hue-filebrowser
    - hue-hbase
    - hue-help
    - hue-impala
    - hue-jobbrowser
    - hue-jobsub
    - hue-metastore
    - hue-oozie
    - hue-pig
    - hue-plugins
    - hue-proxy
    - hue-search
    - hue-server
    - hue-shell
    - hue-sqoop
    - hue-useradmin
    # IMPALA noarch
    - bigtop-utils
    # IMPALA x86_64
    - impala
    - impala-debuginfo
    - impala-server
    - impala-shell
    - impala-state-store
    # CLOUDERA SEARCH (Beta) noarch
    - flume-ng-solr   
    - hbase-solr   
    - hbase-solr-doc   
    - hbase-solr-indexer   
    - search   
    - solr   
    - solr-doc   
    - solr-mapreduce   
    - solr-server   
    # CLOUDERA SEARCH (Beta) x86_64
    - hue-search   
    # CLOUDERA MANAGER
    - cloudera-manager-agent
    - cloudera-manager-daemons
    - cloudera-manager-server
    - cloudera-manager-server-db
    - enterprise-debuginfo
    - jdk

smoketest:
  timeout: 900
